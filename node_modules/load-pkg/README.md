# load-pkg [![NPM version](https://img.shields.io/npm/v/load-pkg.svg?style=flat)](https://www.npmjs.com/package/load-pkg) [![NPM monthly downloads](https://img.shields.io/npm/dm/load-pkg.svg?style=flat)](https://npmjs.org/package/load-pkg) [![NPM total downloads](https://img.shields.io/npm/dt/load-pkg.svg?style=flat)](https://npmjs.org/package/load-pkg) [![Linux Build Status](https://img.shields.io/travis/jonschlinkert/load-pkg.svg?style=flat&label=Travis)](https://travis-ci.org/jonschlinkert/load-pkg)

> Loads package.json, by finding the first directory with a package.json, recursing up, starting with the given directory.

Please consider following this project's author, [Jon Schlinkert](https://github.com/jonschlinkert), and consider starring the project to show your :heart: and support.

## Install

Install with [npm](https://www.npmjs.com/):

```sh
$ npm install --save load-pkg
```

## Usage

### async

By default, if no callback is passed a promise is returned.

The following examples assume the code is inside an `async` function:

```js
const load = require('load-pkg');

// get the package.json from the cwd
const pkg = await load();

// specify the starting directory to search from
const pkg = await load('foo/bar');
```

### async callback

```js
const load = require('load-pkg');

// get the package.json from the cwd
load((err, pkg) => {
  console.log(pkg); 
});

// specify the starting directory to search from
load('foo/bar', (err, pkg) => {
  console.log(pkg); 
});
```

### sync

Loads the package.json in `process.cwd()` by default:

```js
const load = require('load-pkg');

// the following are equivalent
const pkg = load.sync(process.cwd());
const pkg = load.sync();
```

Specify a cwd or filepath to start from:

```js
const pkg = require('load-pkg').sync('a/b/c');
```

## Release history

### v3.0.0

* The main export now returns a promise if no callback is passed. There should not be any breaking changes.

### v2.0.0

**Breaking changes**

* The main export is now a function that must be called.

## About

<details>
<summary><strong>Contributing</strong></summary>

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](../../issues/new).

</details>

<details>
<summary><strong>Running Tests</strong></summary>

Running and reviewing unit tests is a great way to get familiarized with a library and its API. You can install dependencies and run tests with the following command:

```sh
$ npm install && npm test
```

</details>

<details>
<summary><strong>Building docs</strong></summary>

_(This project's readme.md is generated by [verb](https://github.com/verbose/verb-generate-readme), please don't edit the readme directly. Any changes to the readme must be made in the [.verb.md](.verb.md) readme template.)_

To generate the readme, run the following command:

```sh
$ npm install -g verbose/verb#dev verb-generate-readme && verb
```

</details>

### Related projects

You might also be interested in these projects:

* [cwd](https://www.npmjs.com/package/cwd): Easily get the CWD (current working directory) of a project based on package.json, optionally starting… [more](https://github.com/jonschlinkert/cwd) | [homepage](https://github.com/jonschlinkert/cwd "Easily get the CWD (current working directory) of a project based on package.json, optionally starting from a given path. (node.js/javascript util)")
* [find-pkg](https://www.npmjs.com/package/find-pkg): Find the first directory with a package.json, recursing up, starting with the given directory. Similar… [more](https://github.com/jonschlinkert/find-pkg) | [homepage](https://github.com/jonschlinkert/find-pkg "Find the first directory with a package.json, recursing up, starting with the given directory. Similar to look-up but does not support globs and only searches for package.json. Async and sync.")
* [look-up](https://www.npmjs.com/package/look-up): Faster drop-in replacement for find-up and findup-sync. | [homepage](https://github.com/jonschlinkert/look-up "Faster drop-in replacement for find-up and findup-sync.")

### Author

**Jon Schlinkert**

* [LinkedIn Profile](https://linkedin.com/in/jonschlinkert)
* [GitHub Profile](https://github.com/jonschlinkert)
* [Twitter Profile](https://twitter.com/jonschlinkert)

### License

Copyright © 2018, [Jon Schlinkert](https://github.com/jonschlinkert).
Released under the [MIT License](LICENSE).

***

_This file was generated by [verb-generate-readme](https://github.com/verbose/verb-generate-readme), v0.6.0, on June 27, 2018._